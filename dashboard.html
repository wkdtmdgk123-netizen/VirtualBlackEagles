<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ - Virtual Black Eagles</title>
    <link rel="stylesheet" href="/static/style.css?v=900">
    <style>
        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #007bff;
        }
        .admin-header h1 {
            color: #007bff;
            margin: 0;
        }
        .btn-logout {
            padding: 0.5rem 1rem;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 4px;
            text-decoration: none;
            cursor: pointer;
        }
        .admin-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .admin-card {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.2s;
        }
        .admin-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }
        .admin-card h2 {
            color: #333;
            margin-bottom: 1rem;
        }
        .admin-card p {
            color: #666;
            margin-bottom: 1.5rem;
        }
        .admin-card a {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            background: #007bff;
            color: white;
            border-radius: 4px;
            text-decoration: none;
            transition: background 0.2s;
        }
        .admin-card a:hover {
            background: #0056b3;
        }
        .alert {
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 4px;
        }
        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
    </style>
</head>
<body style="background: #f7f7fb;">
    <div class="admin-container">
        <div class="admin-header">
            <div>
                <h1>ğŸ“Š ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h1>
                <p style="margin: 0.5rem 0 0 0; color: #666;">ì•ˆë…•í•˜ì„¸ìš”, {{ session.username }}ë‹˜!</p>
            </div>
            <a href="{{ url_for('admin_logout') }}" class="btn-logout">ë¡œê·¸ì•„ì›ƒ</a>
        </div>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <div class="admin-cards">
            <div class="admin-card">
                <h2>ğŸ“§ ë¬¸ì˜ ê´€ë¦¬</h2>
                <p>í™ˆí˜ì´ì§€ ë¬¸ì˜ ë‚´ìš©ì„ í™•ì¸í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
                {% if unread_count > 0 %}
                <p style="color: #dc3545; font-weight: bold; font-size: 1.2rem;">ìƒˆ ë¬¸ì˜ {{ unread_count }}ê°œ</p>
                {% else %}
                <p style="color: #28a745;">ì½ì§€ ì•Šì€ ë¬¸ì˜ê°€ ì—†ìŠµë‹ˆë‹¤</p>
                {% endif %}
                <a href="{{ url_for('admin_messages') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>ğŸ“¢ ê³µì§€ì‚¬í•­ ê´€ë¦¬</h2>
                <p>ê³µì§€ì‚¬í•­ì„ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <a href="{{ url_for('admin_notices') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>ğŸ“… ì¼ì • ê´€ë¦¬</h2>
                <p>ì—ì–´ì‡¼ ì¼ì •ì„ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <a href="{{ url_for('admin_schedules') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>ğŸ“„ í˜ì´ì§€ ì½˜í…ì¸  ê´€ë¦¬</h2>
                <p>í™ˆ, ê³µì§€, ì¼ì •, íŒ€ì†Œê°œ, ë¬¸ì˜, í›„ì› ë“± ê° í˜ì´ì§€ì˜ ì„¹ì…˜ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <a href="{{ url_for('admin_pages') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>ğŸ¨ ë°°ë„ˆ ì„¤ì • ê´€ë¦¬</h2>
                <p>ê° í˜ì´ì§€ ë°°ë„ˆ ì´ë¯¸ì§€, í…ìŠ¤íŠ¸, ìƒ‰ìƒ, ê¸€ì”¨ì²´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <a href="{{ url_for('admin_banner') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>âœˆï¸ ì¡°ì¢…ì‚¬ ê´€ë¦¬</h2>
                <p>ì¡°ì¢…ì‚¬ ì •ë³´ë¥¼ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <a href="{{ url_for('admin_pilots') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>ğŸ”§ ì •ë¹„ì‚¬ ê´€ë¦¬</h2>
                <p>ì •ë¹„ì‚¬ ì •ë³´ë¥¼ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <a href="{{ url_for('admin_maintenance') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>ğŸ“ í›„ë³´ì ê´€ë¦¬</h2>
                <p>í›„ë³´ì ì •ë³´ë¥¼ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <a href="{{ url_for('admin_candidates') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>ğŸ–ï¸ ì „ëŒ€ì¥ ì¸ì‚¬ë§ ê´€ë¦¬</h2>
                <p>ì „ëŒ€ì¥ ì¸ì‚¬ë§ê³¼ ì‚¬ì§„ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
                <a href="{{ url_for('admin_commanders') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>ï¿½ğŸ¬ í™ˆ ì½˜í…ì¸  ê´€ë¦¬</h2>
                <p>í™ˆí˜ì´ì§€ ìœ íŠœë¸Œ ì˜ìƒ, SNS í”¼ë“œ ë“±ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
                <a href="{{ url_for('admin_home_contents') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>ğŸ“‹ íŒ€ì†Œê°œ ì„¹ì…˜ ê´€ë¦¬</h2>
                <p>íŒ€ì†Œê°œ í˜ì´ì§€ì˜ ê°œìš”, í•­ê³µê¸° ì •ë³´ë¥¼ í¸ì§‘í•©ë‹ˆë‹¤.</p>
                <a href="{{ url_for('admin_about_sections') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>ğŸ“· ì‚¬ì§„ ê²Œì‹œíŒ ê´€ë¦¬</h2>
                <p>í™œë™ ì‚¬ì§„ì„ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œí•©ë‹ˆë‹¤.</p>
                <a href="{{ url_for('admin_gallery') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>ğŸ–¼ï¸ ì‚¬ì´íŠ¸ ì´ë¯¸ì§€ ê´€ë¦¬</h2>
                <p>í™ˆ ë°°ë„ˆ, íŒ€ì†Œê°œ í˜ì´ì§€ ì´ë¯¸ì§€ë¥¼ ë³€ê²½í•©ë‹ˆë‹¤.</p>
                <a href="{{ url_for('admin_site_images') }}">ê´€ë¦¬í•˜ê¸°</a>
            </div>

            <div class="admin-card">
                <h2>ğŸŒ í™ˆí˜ì´ì§€ ë³´ê¸°</h2>
                <p>ì‹¤ì œ í™ˆí˜ì´ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <a href="{{ url_for('index') }}" target="_blank">í™ˆí˜ì´ì§€ ì—´ê¸°</a>
            </div>
        </div>

        {% if recent_messages %}
        <div style="margin-top: 3rem;">
            <h2 style="color: #333; margin-bottom: 1rem;">ğŸ“¬ ìµœê·¼ ë¬¸ì˜</h2>
            <div style="background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); overflow: hidden;">
                <table style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background: #f8f9fa; border-bottom: 2px solid #dee2e6;">
                            <th style="padding: 1rem; text-align: left;">ì´ë¦„</th>
                            <th style="padding: 1rem; text-align: left;">ì´ë©”ì¼</th>
                            <th style="padding: 1rem; text-align: left;">ë©”ì‹œì§€</th>
                            <th style="padding: 1rem; text-align: center;">ìƒíƒœ</th>
                            <th style="padding: 1rem; text-align: center;">ì‘ì„±ì¼</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for message in recent_messages %}
                        <tr style="border-bottom: 1px solid #dee2e6; {% if not message.is_read %}background: #fff3cd;{% endif %}">
                            <td style="padding: 1rem;">{{ message.name }}</td>
                            <td style="padding: 1rem;">{{ message.email }}</td>
                            <td style="padding: 1rem; max-width: 300px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                <a href="{{ url_for('admin_message_detail', message_id=message.id) }}" style="color: #007bff; text-decoration: none;">
                                    {{ message.message[:50] }}...
                                </a>
                            </td>
                            <td style="padding: 1rem; text-align: center;">
                                {% if message.is_read %}
                                <span style="color: #28a745;">âœ“ ì½ìŒ</span>
                                {% else %}
                                <span style="color: #dc3545; font-weight: bold;">â— ìƒˆ ë¬¸ì˜</span>
                                {% endif %}
                            </td>
                            <td style="padding: 1rem; text-align: center;">
                                {{ message.created_at[:16] }}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div style="margin-top: 1rem; text-align: center;">
                <a href="{{ url_for('admin_messages') }}" style="color: #007bff; text-decoration: none; font-weight: bold;">ëª¨ë“  ë¬¸ì˜ ë³´ê¸° â†’</a>
            </div>
        </div>
        {% endif %}
    </div>
</body>
</html>
