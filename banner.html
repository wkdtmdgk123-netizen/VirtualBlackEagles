<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°°ë„ˆ ì„¤ì • ê´€ë¦¬ - Virtual Black Eagles</title>
    <link rel="stylesheet" href="/static/style.css?v=900">
    <style>
        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #007bff;
        }
        .admin-header h1 {
            color: #007bff;
            margin: 0;
        }
        .btn {
            padding: 0.5rem 1rem;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            text-decoration: none;
            cursor: pointer;
            display: inline-block;
        }
        .btn-secondary {
            background: #6c757d;
        }
        .banner-list {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .banner-item {
            padding: 1.5rem;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .banner-item:last-child {
            border-bottom: none;
        }
        .banner-info h3 {
            margin: 0 0 0.5rem 0;
            color: #333;
        }
        .banner-info p {
            margin: 0.25rem 0;
            color: #666;
            font-size: 0.9rem;
        }
        .alert {
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 4px;
        }
        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .banner-preview {
            width: 200px;
            height: 100px;
            border-radius: 8px;
            background-size: cover;
            background-position: center;
            margin-right: 1rem;
        }
    </style>
</head>
<body style="background: #f7f7fb;">
    <div class="admin-container">
        <div class="admin-header">
            <h1>ğŸ¨ ë°°ë„ˆ ì„¤ì • ê´€ë¦¬</h1>
            <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary">ëŒ€ì‹œë³´ë“œë¡œ</a>
        </div>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <div class="banner-list">
            <h2 style="margin-top: 0;">ë°°ë„ˆ ëª©ë¡</h2>
            
            {% if banners %}
                {% for banner in banners %}
                <div class="banner-item">
                    <div style="display: flex; align-items: center; flex: 1;">
                        {% if banner.background_image %}
                        <div class="banner-preview" style="background-image: url('{{ banner.background_image }}');"></div>
                        {% endif %}
                        <div class="banner-info">
                            <h3>{{ banner.page_name|upper }} í˜ì´ì§€</h3>
                            <p><strong>ì œëª©:</strong> {{ banner.title }}</p>
                            <p><strong>ë¶€ì œëª©:</strong> {{ banner.subtitle or 'ì—†ìŒ' }}</p>
                            <p><strong>ì„¤ëª…:</strong> {{ banner.description[:50] }}{{ '...' if banner.description|length > 50 else '' }}</p>
                            <p><strong>ê¸€ê¼´:</strong> {{ banner.title_font }}</p>
                            <p><strong>ì œëª© ìƒ‰ìƒ:</strong> <span style="color: {{ banner.title_color }};">â—</span> {{ banner.title_color }}</p>
                            <p style="font-size: 0.8rem; color: #999;">ë§ˆì§€ë§‰ ìˆ˜ì •: {{ banner.updated_at }}</p>
                        </div>
                    </div>
                    <div>
                        <a href="{{ url_for('admin_banner_edit', banner_id=banner.id) }}" class="btn">ìˆ˜ì •</a>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <p style="text-align: center; color: #999; padding: 2rem;">ë“±ë¡ëœ ë°°ë„ˆ ì„¤ì •ì´ ì—†ìŠµë‹ˆë‹¤.</p>
            {% endif %}
        </div>
    </div>
</body>
</html>
